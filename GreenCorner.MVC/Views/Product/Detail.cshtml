@model ProductDetailViewModel
@{
    ViewData["Title"] = "Chi tiết sản phẩm";
    Layout = "_LayoutCart";

    bool isFallback = !(Model.Top3OpenEvents?.Any(e => e.Status == "Open") ?? false);
    string sectionTitleEvent = isFallback ? "Một số sự kiện gần đây" : "Sự kiện đang diễn ra";
}﻿
<div class="container mb-30">
    <div class="row">
        <div class="col-xl-10 col-lg-12 m-auto">
            <div class="product-detail accordion-detail">
                <div class="row mb-50 mt-30">
                    <div class="col-md-6 col-sm-12 col-xs-12 mb-md-0 mb-sm-5">
                        <div class="detail-gallery">
                            <span class="zoom-icon"><i class="fi-rs-search"></i></span>
                            <!-- MAIN SLIDES -->

                            <div class="product-image-slider">
                                @{
                                    var listImages = Model.Product.ImageUrl.Split('&');
                                    int index = 1;

                                    foreach (var image in listImages)
                                    {
                                        <figure class="border-radius-10">
                                            <img src="@image" alt="product-@index" />
                                        </figure>
                                    }
                                    index++;
                                }
                            </div>


                            <!-- THUMBNAILS -->
                            <div class="slider-nav-thumbnails">
                                @{
                                    int indexx = 1;
                                    foreach (var image in listImages)
                                    {
                                        <div><img src="@image" alt="product image" /></div>
                                        indexx++;
                                    }
                                }
                            </div>

                        </div>
                        <!-- End Gallery -->
                    </div>
                    @{
                        int price = (int)Model.Product.Price;
                        int priceDiscount = price - (Model.Product.Discount.HasValue ? (price * Model.Product.Discount.Value / 100) : 0);
                    }
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <div class="detail-info pr-30 pl-30">
                            <span class="stock-status out-stock"> Sale Off </span>
                            <h2 class="title-detail">@Model.Product.Name</h2>
                            <div class="clearfix product-price-cover">
                                <div class="product-price primary-color float-left">
                                    <span class="current-price text-brand">@priceDiscount.ToString("N0", new
                                                                                CultureInfo("vi-VN"))đ</span>
                                    <span>
                                        <span class="save-price font-md color3 ml-15">@Model.Product.Discount% Off</span>
                                        <span class="old-price font-md ml-15">@Model.Product.Price.ToString("N0", new
                                                                                        CultureInfo("vi-VN"))đ</span>
                                    </span>
                                </div>
                            </div>
                            <div class="detail-extralink mb-20">
                                <div class="detail-qty border radius">
                                    <a href="#" class="qty-down qty-down-detail" data-product-id="@Model.Product.ProductId"><i class="fi-rs-angle-small-down"></i></a>
                                    <input type="text" name="quantity" class="qty-val qty-val-detail" value="1" min="1" data-product-id="@Model.Product.ProductId">
                                    <a href="#" class="qty-up qty-up-detail" data-product-id="@Model.Product.ProductId"><i class="fi-rs-angle-small-up"></i></a>
                                </div>
                                <div class="product-extra-link2">
                                    <button type="submit" class="button button-add-to-cart-detail" data-product-id="@Model.Product.ProductId">
                                        <i class="fi-rs-shopping-cart"></i>Thêm vào giỏ hàng
                                    </button>
                                    @{
                                        var wishListClass = Model.IsInWishlist ? "active" : "";
                                        var wishListLabel = Model.IsInWishlist ? "Remove from Wishlist" : "Add To Wishlist";
                                    }
                                    <a aria-label="@wishListLabel" class="action-btn hover-up wishlist-toggle-btn @wishListClass"
                                       href="#" data-product-id="@Model.Product.ProductId"><i class="fi-rs-heart"></i></a>
                                </div>
                            </div>
                            <div class="font-xl">
                                <ul class="mr-50 float-start">
                                    <li class="mb-5">Danh mục: <span class="text-brand">@Model.Product.Category</span></li>
                                    <li class="mb-5">Thương hiệu:<span class="text-brand"> @Model.Product.Brand</span></li>
                                    <li>Xuất xứ: <span class="text-brand">@Model.Product.Origin</span></li>
                                </ul>
                                <ul class="float-start">
                                    <li class="mb-5">Giảm giá: <a href="#">@Model.Product.Discount</a></li>
                                    <li>Số lượng:<span class="in-stock text-brand ml-5">@Model.Product.Quantity Sản phẩm trong kho</span></li>
                                </ul>
                            </div>
                        </div>
                        <!-- Detail Info -->
                    </div>
                </div>
                <div class="product-info">
                    <div class="tab-style3">
                        <ul class="nav nav-tabs text-uppercase">
                            <li class="nav-item">
                                <a class="nav-link active" id="Description-tab" data-bs-toggle="tab"
                                    href="#Description">Mô tả</a>
                            </li>
                        </ul>
                        <div class="tab-content shop_info_tab entry-main-content">
                            <div class="tab-pane fade show active" id="Description">
                                <div class="">
                                    @Html.Raw(Model.Product.Description)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>
    